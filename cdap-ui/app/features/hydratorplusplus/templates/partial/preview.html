<!--
  Copyright Â© 2016 Cask Data, Inc.

  Licensed under the Apache License, Version 2.0 (the "License"); you may not
  use this file except in compliance with the License. You may obtain a copy of
  the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  License for the specific language governing permissions and limitations under
  the License.
-->

<div ng-controller="HydratorPlusPlusPreviewTabCtrl as PreviewController" class="preview-tab">

  <div ng-if="PreviewController.node.plugin">
    <div class="bottompanel-header clearfix">
      <h3>Preview Data: {{ PreviewController.node.plugin.label }}</h3>
    </div>

    <div class="bottompanel-body">
      <div class="row" ng-if="PreviewController.node.previewData">
        <!-- INPUT RECORD -->
        <div class="col-xs-6">
          <h4>Input Records</h4>

          <table class="table" ng-if="PreviewController.node.previewData.input">
            <thead>
              <th ng-repeat="field in PreviewController.inputSchema">
                {{ field.name }}
              </th>
            </thead>
            <tbody>
              <tr ng-repeat="input in PreviewController.node.previewData.input">
                <td ng-repeat="field in PreviewController.inputSchema">
                  {{ input.inputRecord[field.name] }}
                </td>

              </tr>
            </tbody>
          </table>

          <div class="no-records text-center" ng-if="!PreviewController.node.previewData.input">
            <p>No input records.</p>
          </div>
        </div>

        <!-- OUTPUT RECORD -->
        <div class="col-xs-6">
          <h4>Output Record</h4>

          <table class="table" ng-if="PreviewController.node.previewData.output">
            <thead>
              <th ng-repeat="field in PreviewController.outputSchema">
                {{ field.name }}
              </th>
            </thead>
            <tbody>
              <tr ng-repeat="output in PreviewController.node.previewData.output">
                <td ng-repeat="field in PreviewController.outputSchema">
                  {{ output.outputRecord[field.name] }}
                </td>
              </tr>
            </tbody>
          </table>

          <div class="no-records text-center" ng-if="!PreviewController.node.previewData.output">
            <p>No output records.</p>
          </div>
        </div>
      </div>

      <div class="row" ng-if="!PreviewController.node.previewData">
        <div class="col-xs-12">
          <p>No preview data available. Please press preview button on the top panel.</p>
        </div>
      </div>
    </div>
  </div>

  <div class="bottompanel-body empty" ng-if="!PreviewController.node.plugin">
    <p>Please select a plugin to view preview data.</p>
  </div>
</div>
